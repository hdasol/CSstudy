# 브라우저 렌더링

## 동현

### 브라우저 렌더링 방식을 설명해주세요.

`렌더링 엔진`을 이용해 HTML을 파싱하여 `DOM Tree`를 생성합니다. 이 때, CSS를 로드하는 link 태그 혹은 style 태그를 만나면 하던일을 중단하고 CSS를 파싱하여 `CSSOM Tree`를 생성합니다. 만들어진 트리들을 결합해 `Render Tree`를 만듭니다.

완성된 Render Tree를 기반으로 HTML 요소의 `레이아웃 위치와 크기를 계산`하고 `렌더링`합니다.

js코드 역시 css 파싱과정과 마찬가지로 HTML을 파싱하다가 script 태그를 만나면 즉시 바이트 코드로 변환 후 실행됩니다. js 코드 중에서 DOM이나 CSSOM을 변경시키는 로직이 있다면, 계산 후 다시 Render Tree를 만듭니다. 이 때, 레이아웃의 계산이 다시 필요했다면 reflow를 통해 Layout 계산 과정으로 돌아가고, 단순 스타일의 변화만 있는 경우에는 repaint를 통해 Paint 단계로 돌아갑니다.

### HTML 하단에 script 태그를 통해 JS 불러오는 이유?

head 영역이나 html 문서 상단에 js를 불러오면 DOM Tree가 만들어지지 않았는데도 DOM API에 의한 조작의 발생으로 오류가 발생할 수 있습니다. 또한, 자바스크립트의 로딩으로 인해 HTML/CSS 파싱이 늦어지므로, 사용자는 로딩시간이 길다고 느껴질 수 있습니다.

### 나중에 읽어보고 싶은 자료

- [브라우저는 어떻게 동작하는가?](https://d2.naver.com/helloworld/59361)
