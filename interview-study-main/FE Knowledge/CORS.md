# CORS

## 동현

### CORS (Cross-Origin Resource Sharing)

클라이언트와 서버간 통신을 할 때, 다른 origin의 리소스를 사용하는 것을 제한하는 정책입니다. Scheme, Host, Port가 동일하면 같은 Origin에서 데이터를 요청하는 것으로 인정합니다. 애플리케이션 개발을 하다보면 다른 Origin의 서버로 데이터를 요청하는 경우가 많기 때문에, 이를 잘 조작하지 않는다면 CORS 에러가 뜨게 됩니다.

CORS 정책을 위반했는지 검증하는 과정은 서버가 아니라 `브라우저` 스펙에 의해 판단합니다. 즉, 클라이언트가 서버로 데이터를 요청하면 출처가 어디든 상관없이 서버는 응답을 반환합니다. 브라우저는 응답을 분석해서 정책이 위반되었다고 판단되면 응답을 클라이언트에게 넘기지 않는 방식을 취합니다.

따라서, 서버가 응답을 반환할 때는 헤더의 `Access-Control-Allow-Origin`값에 자신의 서버에서 접근을 허용하는 출처를 함께 보내주게 됩니다. 브라우저는 요청보낸 Origin을 이와 비교해 유효한 응답인지 확인하고 처리하는 방식을 취합니다.

### 참고 자료

- [CORS는 왜 이렇게 우리를 힘들게 하는걸까?](https://evan-moon.github.io/2020/05/21/about-cors/)
