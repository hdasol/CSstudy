# Proxy

## 동현

### Forward Proxy와 Reverse Proxy

프록시란 클라이언트와 서버 사이에 위치하는 중개 서버입니다. 서버에게 직접 요청하거나 클라이언트에게 직접 응답하지 않고, 프록시 서버를 거쳐 통신을 수행합니다. `요청-응답간 캐싱 처리` 및 `보안`등을 목적으로 사용할 수 있습니다. 프록시 서버의 위치에 따라 Forward Proxy와 Reverse Proxy로 구분합니다.

Forward Proxy란, 클라이언트에서 설정하는 프록시입니다. 프록시 서버가 클라이언트의 요청을 대신 수행해줍니다. 따라서, 서버와 통신하는 것은 프록시 서버입니다. 그렇기 때문에, 서버는 클라이언트의 정보를 알 수 없어서 `익명성`을 보장할 수 있습니다. 또한, 프록시 서버는 요청에 대한 응답을 내부에서 `캐싱`합니다. 따라서, 클라이언트로부터 동일한 요청이 들어왔을 경우 서버와 통신하지 않고 캐싱된 데이터를 응답하여 `응답 속도`를 높일 수 있습니다.

Reverse Proxy란, 서버측에서 설정하는 프록시입니다. 프록시는 서버의 IP주소를 감추고, 클라이언트는 프록시가 마치 실제 서버인 것 처럼 요청합니다. 즉, 서버 정보를 클라이언트로부터 숨길 수 있어 `보안`에 유리합니다 (Forward Proxy처럼 `캐싱` 기능도 사용할 수 있음). 또한, 운영하는 서비스의 서버 Scale-out 과정에서 `로드 밸런서`로서의 역할로도 사용할 수 있습니다.

### Scale-up / Scale-out

scale-up은 `더 좋은 장비를 사용해 성능을 향상`시키는 수직 스케일링 기법입니다. 데이터 갱신이 빈번하게 일어나거나 트랜잭션을 기반을 하는 작업이 많을 경우에 사용하면 좋습니다. 단, 스케일업을 할수록, 사용되는 비용은 커지는데 반해 성능의 증가폭이 좁아진다는 단점이 있습니다. 또한, 하나의 서버로 모든 클라이언트의 트래픽을 대응하기 때문에, 해당 서버에 문제가 발생할 경우 모든 서비스를 정상적으로 이용할 수 없습니다.

scale-out은 수평 스케일링 기법이며, `여러 서버로 분산하여 처리하는 것`을 의미합니다. 하드웨어적인 한계선이 매우 높으며, 계속해서 확장할 수 있습니다. 여러 대의 서버가 분산 처리를 하기 때문에, 하나의 서버에서 장애가 발생해도 다른 서버를 이용하면 되어 장애 가능성이 감소합니다. 단, 모든 서버에서 데이터 일관성을 유지해야 하고, 세션이나 공통 이미지 공유에 대한 고려도 해야하는 등 `설계 및 관리가 복잡`하다는 단점이 있습니다. 


### 참고 자료

- [테코톡](https://www.youtube.com/watch?v=YxwYhenZ3BE)
- [scale-up과 scale-out](https://kils-log-of-develop.tistory.com/596)